- model: vtsnn_slip
  description: Baseline model on Tactile data
  sourcecode:
    select:
      - exclude: slayerPytorch
      
  operations:
    prepare-data:
      description: Preprocess slip data for training for both modality
      main: preprocess_slip_data
      flags:
        save_dir: /home/tasbolat/some_python_examples/data_VT_SNN/slip_data/bin_150/
        data_path: /datasets/eventdata/slip2/
        threshold: 1
        bin_duration: 0.001
    downsample:
      description: Downsample vision data and save as one big tensor
      main: downsample
      flags:
        path: /home/tasbolat/some_python_examples/data_VT_SNN/slip_data/bin_150/
        count: 100
        network: /home/tasbolat/some_python_examples/VT_SNN/slip_detection/network.yaml
    tact:
      description: Train tactile model for slip
      main: /home/tasbolat/some_python_examples/VT_SNN/train_tac_snn
      output-scalars: no
      objective:
        maximize: acc/test
      flags-import:
        - batch_size
        - epochs
        - tsample
        - tsr_stop
        - sc_true
        - sc_false
        - lr
        - sample_file
        - hidden_size
        - output_size
        - checkpoint_dir
      flags:
        batch_size: 8
        epochs: 700
        lr: 0.001
        data_dir: /home/tasbolat/some_python_examples/data_VT_SNN/slip_data/bin_150/
        tsample: 150
        tsr_stop: 150
        sc_true: 80
        sc_false: 5
        sample_file: 1
        hidden_size: 32
        output_size: 2
        checkpoint_dir: . #/home/tasbolat/some_python_examples/VT_SNN/logged_models/
      compare:
        - =batch_size
        - =epochs
        - =tsample
        - =tsr_stop
        - =sc_true
        - =sc_false
        - =lr
        - =sample_file
        - =hidden_size
        - l1_loss/train as l1_loss_train
        - l2_loss/train as l2_loss_train
        - loss/train as loss_train
        - max acc/train as max_acc_train
        - l1_loss/test as l1_loss_test
        - l2_loss/test as l2_loss_test
        - loss/test as loss_test
        - max acc/test as max_acc_test
        - acc/test as acc_test
        - acc/train as acc_train
    viz:
      description: Train vizual model for slip
      main: /home/tasbolat/some_python_examples/VT_SNN/train_viz_snn
      output-scalars: no
      objective:
        maximize: acc/test
      flags-import:
        - batch_size
        - epochs
        - tsample
        - tsr_stop
        - sc_true
        - sc_false
        - lr
        - sample_file
        - output_size
        - checkpoint_dir
      flags:
        batch_size: 8
        epochs: 500
        lr: 0.001
        data_dir: /home/tasbolat/some_python_examples/data_VT_SNN/slip_data/bin_150/
        tsample: 150
        tsr_stop: 150
        sc_true: 80
        sc_false: 5
        sample_file: 1
        output_size: 2
        checkpoint_dir: .
      compare:
        - =batch_size
        - =epochs
        - =tsample
        - =tsr_stop
        - =sc_true
        - =sc_false
        - =lr
        - =sample_file
        - =hidden_size
        - l1_loss/train as l1_loss_train
        - l2_loss/train as l2_loss_train
        - loss/train as loss_train
        - max acc/train as max_acc_train
        - acc/train as acc_train
        - l1_loss/test as l1_loss_test
        - l2_loss/test as l2_loss_test
        - loss/test as loss_test
        - acc/test as acc_test
        - max acc/test as max_acc_test
    mm:
      description: Train MM model for slip
      main: /home/tasbolat/some_python_examples/VT_SNN/train_mm_snn
      output-scalars: no
      objective:
        maximize: acc/test
      flags-import:
        - batch_size
        - epochs
        - tsample
        - tsr_stop
        - sc_true
        - sc_false
        - lr
        - sample_file
        - r_l1
        - r_l2
        - output_size
      flags:
        batch_size: 8
        epochs: 500
        lr: 0.001
        data_dir: /home/tasbolat/some_python_examples/data_VT_SNN/slip_data/bin_150/
        tsample: 150
        tsr_stop: 150
        sc_true: 80
        sc_false: 5
        sample_file: 1
        output_size: 2
        checkpoint_dir: .
      compare:
        - =batch_size
        - =epochs
        - =tsample
        - =tsr_stop
        - =sc_true
        - =sc_false
        - =lr
        - =sample_file
        - l1_loss/train as l1_loss_train
        - l2_loss/train as l2_loss_train
        - loss/train as loss_train
        - max acc/train as max_acc_train
        - l1_loss/test as l1_loss_test
        - l2_loss/test as l2_loss_test
        - loss/test as loss_test
        - acc/test as acc_test
        - acc/train as acc_train
        - max acc/test as max_acc_test
    tact_ann:
      description: Train tactile model using ANN for slip
      main: /home/tasbolat/some_python_examples/VT_SNN/train_tac_ann
      output-scalars: no
      objective:
        maximize: acc/test
      flags-import:
        - batch_size
        - epochs
        - lr
        - sample_file
        - hidden_size
        - output_size
        - checkpoint_dir
      flags:
        batch_size: 8
        epochs: 600
        lr: 0.0001
        data_dir: /home/tasbolat/some_python_examples/data_VT_SNN/slip_data/bin_150/
        sample_file: 1
        hidden_size: 32
        output_size: 2
        checkpoint_dir: . #/home/tasbolat/some_python_examples/VT_SNN/logged_models/
      compare:
        - =batch_size
        - =epochs
        - =lr
        - =sample_file
        - =hidden_size
        - loss/train as loss_train
        - max acc/train as max_acc_train
        - loss/test as loss_test
        - max acc/test as max_acc_test
        - acc/test as acc_test
        - acc/train as acc_train
    viz_ann:
      description: Train vision model using ANN for slip
      main: /home/tasbolat/some_python_examples/VT_SNN/train_viz_ann
      output-scalars: no
      objective:
        maximize: acc/test
      flags-import:
        - batch_size
        - epochs
        - lr
        - sample_file
        - hidden_size
        - output_size
        - checkpoint_dir
      flags:
        batch_size: 8
        epochs: 400
        lr: 0.0001
        data_dir: /home/tasbolat/some_python_examples/data_VT_SNN/slip_data/bin_150/
        sample_file: 1
        hidden_size: 30
        output_size: 2
        checkpoint_dir: . #/home/tasbolat/some_python_examples/VT_SNN/logged_models/
      compare:
        - =batch_size
        - =epochs
        - =lr
        - =sample_file
        - =hidden_size
        - loss/train as loss_train
        - max acc/train as max_acc_train
        - loss/test as loss_test
        - max acc/test as max_acc_test
        - acc/test as acc_test
        - acc/train as acc_train
    mm_ann:
      description: Train multimodal model using ANN for slip
      main: /home/tasbolat/some_python_examples/VT_SNN/train_mm_ann
      output-scalars: no
      objective:
        maximize: acc/test
      flags-import:
        - batch_size
        - epochs
        - lr
        - sample_file
        - hidden_size
        - output_size
        - checkpoint_dir
      flags:
        batch_size: 8
        epochs: 400
        lr: 0.0001
        data_dir: /home/tasbolat/some_python_examples/data_VT_SNN/slip_data/bin_150/
        sample_file: 1
        hidden_size: 30
        output_size: 2
        checkpoint_dir: . #/home/tasbolat/some_python_examples/VT_SNN/logged_models/
      compare:
        - =batch_size
        - =epochs
        - =lr
        - =sample_file
        - =hidden_size
        - loss/train as loss_train
        - max acc/train as max_acc_train
        - loss/test as loss_test
        - max acc/test as max_acc_test
        - acc/test as acc_test
        - acc/train as acc_train     
